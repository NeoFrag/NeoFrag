<p><?php echo i18n('there_are', $count = ($users = count($data['users'])) + $data['visitors'], $count); ?></p>
<?php echo implode(', ', array_map(function($a) use ($NeoFrag){ return $NeoFrag->user->link($a['user_id'], $a['username']); }, $data['users'])).' '.($users ? i18n('and') : '').' '.i18n('guests', $data['visitors'], $data['visitors']); ?>